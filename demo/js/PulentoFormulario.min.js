function crearAjax(){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function PulentoFormulario(e){this.nombre=e}PulentoFormulario.campoObligatorio=function(e,t,n){return valor=document.getElementsByName(e)[0].value,null==valor||0==valor.length||/^\s+$/.test(valor)?(document.getElementById(t).innerHTML=n,!1):(document.getElementById(t).innerHTML="",!0)},PulentoFormulario.campoNumerico=function(e,t,n){return valor=document.getElementsByName(e)[0].value,isNaN(valor)||0==valor.length||/^\s+$/.test(valor)?(document.getElementById(t).innerHTML=n,!1):(document.getElementById(t).innerHTML="",!0)},PulentoFormulario.campoEmail=function(e,t,n){return expr=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,valor=document.getElementsByName(e)[0].value,!expr.test(valor)||0==valor.length||/^\s+$/.test(valor)?(document.getElementById(t).innerHTML=n,!1):(document.getElementById(t).innerHTML="",!0)},PulentoFormulario.campoSoloTexto=function(e,t,n){return expr=/^[a-zA-Z]/,valor=document.getElementsByName(e)[0].value,expr.test(valor)?(document.getElementById(t).innerHTML="",!0):(document.getElementById(t).innerHTML=n,!1)},PulentoFormulario.rutCL=function(e,t,n){for(var o=0,a=Array(3,2,7,6,5,4,3,2),r=document.getElementsByName("rut")[0],l=0;l<=r.value.length-3;l++){var u=10-r.value.length+l;o+=a[u]*r.value.substr(l,1)}var m;m=11-o%11==10?"K":11-o%11==11?0:11-o%11;var d=r.value.substr(r.value.length-1,1).toUpperCase();return d!=m||0==d.length||/^\s+$/.test(d)?(document.getElementById(t).innerHTML=n,!1):(document.getElementById(t).innerHTML="",!0)},PulentoFormulario.telefonoCL=function(e,t,n){return valor=document.getElementsByName(e)[0].value,/^\+\d{2,3}\s\d{9}$/.test(valor)?(document.getElementById(t).innerHTML="",!0):(document.getElementById(t).innerHTML=n,!1)},PulentoFormulario.campoFecha=function(e,t,n){return valor=document.getElementsByName(e)[0].value,/^\d{2}\-\d{2}\-\d{4}$/.test(valor)?(document.getElementById(t).innerHTML="",!0):(document.getElementById(t).innerHTML=n,!1)},PulentoFormulario.lista=function(e,t,n){return valor=document.getElementsByName(e)[0].value,null==valor||0==valor?(document.getElementById(t).innerHTML=n,!1):(document.getElementById(t).innerHTML="",!0)},PulentoFormulario.checkbox=function(e,t,n){return checkbox=document.getElementsByName(e)[0],checkbox.checked?(document.getElementById(t).innerHTML="",!0):(document.getElementById(t).innerHTML=n,!1)},PulentoFormulario.radioButton=function(e,t,n){opciones=document.getElementsByName(e);for(var o=!1,a=0;a<opciones.length;a++)if(opciones[a].checked){o=!0;break}return o?(document.getElementById(t).innerHTML="",!0):(document.getElementById(t).innerHTML=n,!1)},PulentoFormulario.soloValidar=function(e,t,n){var o;document.getElementById(t).addEventListener("click",function(e){e.preventDefault(),o=!0;for(var a=0;a<n.length;a++){var r=n[a].tipo,l=n[a].nameCampo,u=n[a].idMuestraError;PulentoFormulario[r](l,u)||(o=!1)}return o&&(document.getElementById(t).disabled=!0),o})},PulentoFormulario.validar=function(e,t,n){var o;o=!0;for(var a=0;a<n.length;a++){var r=n[a].tipo,l=n[a].nameCampo,u=n[a].idMuestraError,m=n[a].mensajeError;PulentoFormulario[r](l,u,m)||(o=!1)}return o&&(document.getElementById(t).disabled=!0),o},PulentoFormulario.enviarPOST=function(e,t,n,o){var a=document.forms[e].elements,r="";"radio"==a[0].type?a[0].checked&&(r+=a[0].name+"="+a[0].value):r+=a[0].name+"="+a[0].value;for(var l=1;l<a.length;l++)"radio"==a[l].type?a[l].checked&&(r+="&"+a[l].name+"="+a[l].value):r+="&"+a[l].name+"="+a[l].value;ajax=crearAjax(),ajax.onreadystatechange=function(){4==ajax.readyState&&200==ajax.status&&(respuesta=ajax.responseText,"OK"==respuesta.toUpperCase()?void 0!=n&&n():void 0!=o&&o())},ajax.open("POST",t,!0),ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ajax.send(r)},PulentoFormulario.enviarGET=function(e,t,n,o){var a="",r=!1,l=document.forms[e].elements,u="";"radio"==l[0].type?l[0].checked&&(u+=l[0].name+"="+l[0].value):u+=l[0].name+"="+l[0].value;for(var m=1;m<l.length;m++)"radio"==l[m].type?l[m].checked&&(u+="&"+l[m].name+"="+l[m].value):u+="&"+l[m].name+"="+l[m].value;ajax=crearAjax(),ajax.onreadystatechange=function(){4==ajax.readyState&&200==ajax.status&&(a=ajax.responseText,"OK"==a.toUpperCase()?(void 0!=n&&n(),r=!0):void 0!=o&&o())},ajax.open("GET",t+"?"+u,!0),ajax.send()},PulentoFormulario.validarEnviar=function(e,t,n,o,a,r,l,u){var m,d="enviar"+a;document.getElementById(t).addEventListener("click",function(i){i.preventDefault(),m=!1,PulentoFormulario.validar(e,t,n)&&(m=!0,void 0!=o&&void 0!=a&&PulentoFormulario[d](e,r,l,u))})};